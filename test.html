<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Search</title>
</head>
<body>

<input type="text" id="searchInput" placeholder="Search files">
<button onclick="searchFiles()">Search</button>

<div id="searchResults"></div>

<script>
const ip_address = process.env.IP_SERVER;  
 function searchFiles() {
    const searchQuery = document.getElementById('searchInput').value;

    fetch(`http://`ip_address`/searchFiles?q=${searchQuery}`)
        .then(response => response.json())
        .then(data => {
            const searchResultsDiv = document.getElementById('searchResults');
            searchResultsDiv.innerHTML = '';

            if (!data.files || data.files.length === 0) {
                searchResultsDiv.textContent = 'No matching files found';
            } else {
                const fileList = document.createElement('ul');
                data.files.forEach(fileName => {
                    const listItem = document.createElement('li');
                    listItem.textContent = fileName;
                    fileList.appendChild(listItem);
                });
                searchResultsDiv.appendChild(fileList);
            }
        })
        .catch(error => {
            console.error('Error searching files:', error);
        });
}

</script>

<input type="text" id="urlInput" placeholder="Enter HTML file URL">
<button onclick="loadPage()">Load Page</button>
<div id="pageContent"></div>

<script>
const ip_address = process.env.IP_SERVER;  
    function loadPage() {
        // Get the URL from the input textbox
        const pageUrl = document.getElementById('urlInput').value;

        // Use the Fetch API to get the HTML content as text
        fetch('http://ip_address/truedatabase/' + pageUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text(); // Use response.text() to get the content as text
            })
            .then(pageContent => {
                // Display the HTML content in a specific div
                document.getElementById('pageContent').innerHTML = pageContent;
            })
            .catch(error => {
                console.error('Error loading the page:', error);
            });
    }
</script>
</body>
</html>
